/* ═══════════════════════════════════════════════════════════════════════════
   FLEET COMMAND CENTER — CSS
   ═══════════════════════════════════════════════════════════════════════════ */
:root{
  --bg-base:#080c10;--bg-surface:#0e1419;--bg-panel:#131a22;--bg-elevated:#1a2330;--bg-input:#0d1117;
  --border:#1e2a38;--border-subtle:#161f2b;
  --text-primary:#e6edf3;--text-secondary:#7d8590;--text-muted:#484f58;
  --accent:#00d4ff;--accent-dim:rgba(0,212,255,.12);--accent-glow:rgba(0,212,255,.25);
  --green:#3fb950;--green-dim:rgba(63,185,80,.12);
  --amber:#d29922;--amber-dim:rgba(210,153,34,.12);
  --red:#f85149;--red-dim:rgba(248,81,73,.12);
  --idle:#586574;
  --font-mono:'DM Mono','SF Mono','Fira Code',monospace;
  --font-heading:'Syne','Inter',-apple-system,sans-serif;
  --font-body:-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif;
  --nav-w:56px;--nav-exp:240px;
  --pod-herald:#a855f7;--pod-forge:#10b981;--pod-oracle:#f59e0b;
}
*{margin:0;padding:0;box-sizing:border-box}
html,body{height:100%;overflow:hidden}
body{background:var(--bg-base);color:var(--text-primary);font-family:var(--font-body);font-size:13px}

/* ── Shell ─────────────────────────────────────────────── */
.fleet-shell{display:flex;height:100vh;overflow:hidden}
.main-canvas{flex:1;display:flex;flex-direction:column;overflow:hidden;min-width:0}
.view{display:none;flex-direction:column;flex:1;overflow:hidden}
.view.active{display:flex}

/* ── Pod Navigator Sidebar ─────────────────────────────── */
.pod-nav{width:var(--nav-w);min-width:var(--nav-w);height:100%;background:var(--bg-surface);border-right:1px solid var(--border);display:flex;flex-direction:column;transition:width .25s ease,min-width .25s ease;overflow:hidden;z-index:50;flex-shrink:0}
.pod-nav:hover,.pod-nav.pinned{width:var(--nav-exp);min-width:var(--nav-exp)}
.pod-nav .nav-label{opacity:0;white-space:nowrap;transition:opacity .2s;overflow:hidden}
.pod-nav:hover .nav-label,.pod-nav.pinned .nav-label{opacity:1}

.nav-top{padding:8px;flex-shrink:0}
.nav-fleet-btn{width:100%;display:flex;align-items:center;gap:10px;padding:10px;border-radius:6px;border:1px solid var(--border);background:transparent;color:var(--accent);font-family:var(--font-mono);font-size:11px;cursor:pointer;transition:all .15s}
.nav-fleet-btn:hover{background:var(--accent-dim);border-color:rgba(0,212,255,.3)}
.nav-fleet-btn.active{background:var(--accent-dim);border-color:var(--accent)}
.nav-fleet-btn svg{width:18px;height:18px;flex-shrink:0}

.nav-pin{width:100%;display:flex;align-items:center;justify-content:center;padding:4px;border:none;background:transparent;color:var(--text-muted);font-size:14px;cursor:pointer;border-radius:4px;margin-top:4px;opacity:0;transition:opacity .2s}
.pod-nav:hover .nav-pin{opacity:1}
.nav-pin:hover{background:var(--bg-elevated);color:var(--text-secondary)}
.nav-pin.pinned{color:var(--accent)}

.nav-pods{flex:1;overflow-y:auto;overflow-x:hidden;padding:4px 8px}
.nav-pod{display:flex;align-items:center;gap:10px;padding:10px;border-radius:6px;cursor:pointer;transition:all .15s;border-left:3px solid transparent;margin-bottom:2px;position:relative}
.nav-pod:hover{background:var(--bg-elevated)}
.nav-pod.active{border-left-color:var(--accent)}
.nav-pod-avatar{width:28px;height:28px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-family:var(--font-mono);font-size:8px;font-weight:500;flex-shrink:0;border:2px solid var(--idle)}
.nav-pod-info{overflow:hidden}
.nav-pod-code{font-family:var(--font-mono);font-size:11px;font-weight:500;white-space:nowrap}
.nav-pod-name{font-size:10px;color:var(--text-muted);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.nav-pod-meta{font-size:9px;color:var(--text-muted);font-family:var(--font-mono);white-space:nowrap}
.nav-pod .status-dot{position:absolute;top:10px;right:8px;width:7px;height:7px;border-radius:50%}
.nav-pod .alert-badge{position:absolute;top:6px;right:4px;min-width:16px;height:16px;border-radius:8px;background:var(--red);color:#fff;font-size:9px;font-weight:600;display:flex;align-items:center;justify-content:center;padding:0 4px}

.nav-bottom{padding:8px;border-top:1px solid var(--border);flex-shrink:0}
.nav-btn{width:100%;display:flex;align-items:center;gap:10px;padding:8px 10px;border-radius:4px;border:none;background:transparent;color:var(--text-secondary);font-family:var(--font-mono);font-size:10px;cursor:pointer;transition:all .15s;text-align:left;white-space:nowrap}
.nav-btn:hover{background:var(--bg-elevated);color:var(--text-primary)}
.nav-btn svg{width:16px;height:16px;flex-shrink:0}
.nav-btn.accent{color:var(--accent)}
.nav-health{padding:8px 10px;font-size:9px;color:var(--text-muted);font-family:var(--font-mono);line-height:1.5;white-space:nowrap}

/* ── Fleet View ────────────────────────────────────────── */
.fleet-header{display:flex;align-items:center;justify-content:space-between;padding:0 24px;height:52px;min-height:52px;background:var(--bg-surface);border-bottom:1px solid var(--border);flex-shrink:0}
.fleet-header-left{display:flex;align-items:center;gap:20px}
.fleet-title{font-family:var(--font-heading);font-size:16px;font-weight:700;letter-spacing:-.3px}
.fleet-stats{display:flex;gap:20px}
.fleet-stat{display:flex;align-items:center;gap:5px;font-size:11px;color:var(--text-secondary)}
.fleet-stat .val{font-family:var(--font-mono);color:var(--accent);font-weight:500;font-size:13px}
.fleet-stat.err .val{color:var(--red)}
.fleet-controls{display:flex;gap:6px}
.fleet-btn{padding:6px 14px;border-radius:4px;border:1px solid var(--border);background:transparent;color:var(--text-secondary);font-size:10px;font-family:var(--font-mono);cursor:pointer;transition:all .15s;letter-spacing:.3px}
.fleet-btn:hover{border-color:var(--accent);color:var(--accent)}
.fleet-btn.primary{background:var(--accent);color:var(--bg-base);border-color:var(--accent)}
.fleet-btn.primary:hover{filter:brightness(1.15)}

.fleet-body{flex:1;overflow-y:auto;padding:20px 24px}
.fleet-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:16px;margin-bottom:24px}
@media(max-width:1200px){.fleet-grid{grid-template-columns:repeat(2,1fr)}}
@media(max-width:700px){.fleet-grid{grid-template-columns:1fr}}

.pod-card{background:var(--bg-panel);border:1px solid var(--border);border-radius:8px;overflow:hidden;transition:all .2s}
.pod-card:hover{border-color:rgba(255,255,255,.15);transform:translateY(-2px);box-shadow:0 6px 24px rgba(0,0,0,.3)}
.pod-card.pulse{animation:cardPulse 1s ease}
.pod-card-head{display:flex;align-items:center;justify-content:space-between;padding:14px 16px;border-bottom:1px solid var(--border-subtle)}
.pod-card-avatar{width:36px;height:36px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-family:var(--font-mono);font-size:9px;font-weight:500;flex-shrink:0;position:relative}
.pod-card-avatar::after{content:'';position:absolute;inset:-4px;border-radius:50%;border:1.5px solid rgba(0,212,255,.2);animation:pulse-ring 3s infinite}
.pod-card-id{display:flex;align-items:center;gap:10px}
.pod-card-id div{overflow:hidden}
.pod-card-codename{font-family:var(--font-heading);font-size:14px;font-weight:700}
.pod-card-title{font-size:11px;color:var(--text-secondary)}
.pod-card-status{display:inline-flex;align-items:center;gap:4px;padding:2px 8px;border-radius:3px;font-family:var(--font-mono);font-size:9px;text-transform:uppercase;letter-spacing:.5px}
.pod-card-status.active{background:var(--green-dim);color:var(--green)}
.pod-card-status.idle{background:rgba(88,101,116,.12);color:var(--idle)}
.pod-card-status.error{background:var(--red-dim);color:var(--red)}

.pod-card-stats{display:grid;grid-template-columns:1fr 1fr 1fr;gap:8px;padding:12px 16px;border-bottom:1px solid var(--border-subtle)}
.pcs{text-align:center}
.pcs-val{font-family:var(--font-mono);font-size:14px;font-weight:500;color:var(--text-primary)}
.pcs-lbl{font-size:9px;color:var(--text-muted);text-transform:uppercase;letter-spacing:.5px}

.pod-card-focus{padding:12px 16px;border-bottom:1px solid var(--border-subtle);min-height:60px}
.pcf-title{font-size:9px;color:var(--text-muted);text-transform:uppercase;letter-spacing:1px;margin-bottom:6px}
.pcf-line{font-size:11px;color:var(--text-secondary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-bottom:2px;display:flex;align-items:center;gap:6px}
.pcf-line .dot{width:5px;height:5px;border-radius:50%;flex-shrink:0}

.pod-card-foot{display:flex;align-items:center;justify-content:space-between;padding:10px 16px}
.pcf-ago{font-size:10px;color:var(--text-muted);font-family:var(--font-mono)}
.pcf-actions{display:flex;gap:6px}
.pcf-btn{padding:5px 12px;border-radius:4px;border:1px solid var(--border);background:transparent;color:var(--text-secondary);font-size:10px;font-family:var(--font-mono);cursor:pointer;transition:all .15s}
.pcf-btn:hover{border-color:var(--text-secondary);color:var(--text-primary)}
.pcf-btn.primary{background:var(--accent-dim);border-color:rgba(0,212,255,.3);color:var(--accent)}
.pcf-btn.primary:hover{background:var(--accent);color:var(--bg-base)}

/* Quick task inline */
.quick-task{display:none;padding:10px 16px;border-top:1px solid var(--border-subtle);gap:6px}
.quick-task.open{display:flex}
.quick-task input{flex:1;padding:7px 10px;border-radius:4px;border:1px solid var(--border);background:var(--bg-input);color:var(--text-primary);font-family:var(--font-mono);font-size:11px}
.quick-task input:focus{outline:none;border-color:var(--accent)}
.quick-task button{padding:7px 14px;border-radius:4px;border:none;background:var(--accent);color:var(--bg-base);font-family:var(--font-mono);font-size:10px;cursor:pointer}

/* Fleet Activity Feed */
.fleet-feed-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:10px;flex-wrap:wrap;gap:8px}
.fleet-feed-title{font-family:var(--font-heading);font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:1.5px;color:var(--text-secondary)}
.feed-filters{display:flex;gap:4px;flex-wrap:wrap}
.feed-filter{padding:3px 10px;border-radius:3px;border:1px solid var(--border);background:transparent;color:var(--text-muted);font-size:10px;font-family:var(--font-mono);cursor:pointer;transition:all .15s}
.feed-filter:hover{color:var(--text-secondary)}
.feed-filter.active{background:var(--accent-dim);border-color:rgba(0,212,255,.3);color:var(--accent)}
.fleet-feed{max-height:300px;overflow-y:auto}
.feed-entry{display:flex;align-items:flex-start;gap:8px;padding:6px 8px;border-radius:4px;animation:fadeSlideUp .3s ease;font-size:12px}
.feed-entry:hover{background:var(--bg-elevated)}
.feed-pod-tag{font-family:var(--font-mono);font-size:10px;font-weight:500;flex-shrink:0;padding:1px 6px;border-radius:3px;white-space:nowrap}
.feed-msg{color:var(--text-secondary);flex:1}
.feed-ts{font-family:var(--font-mono);font-size:10px;color:var(--text-muted);flex-shrink:0}

/* ── Pod View ──────────────────────────────────────────── */
.pv-header{display:flex;align-items:center;justify-content:space-between;padding:0 24px;height:52px;min-height:52px;background:var(--bg-surface);border-bottom:1px solid var(--border);flex-shrink:0}
.pv-header-left{display:flex;align-items:center;gap:14px}
.pv-back{border:none;background:transparent;color:var(--text-muted);font-size:16px;cursor:pointer;padding:4px 8px;border-radius:4px;transition:all .15s}
.pv-back:hover{background:var(--bg-elevated);color:var(--text-primary)}
.pv-breadcrumb{font-size:12px;color:var(--text-secondary)}.pv-breadcrumb a{color:var(--text-muted);text-decoration:none}.pv-breadcrumb a:hover{color:var(--accent)}
.pv-breadcrumb .current{color:var(--text-primary);font-weight:500}
.pv-status-pill{display:inline-flex;align-items:center;gap:5px;padding:3px 10px;border-radius:4px;font-family:var(--font-mono);font-size:10px;font-weight:500;text-transform:uppercase;letter-spacing:.8px}
.pv-status-pill.running{background:var(--green-dim);color:var(--green)}
.pv-status-pill .dot{width:6px;height:6px;border-radius:50%;background:currentColor;animation:pulse-dot 2s infinite}
.pv-header-meta{display:flex;align-items:center;gap:20px}
.pv-meta{display:flex;align-items:center;gap:5px;font-size:11px;color:var(--text-secondary)}
.pv-meta .val{font-family:var(--font-mono);color:var(--accent);font-weight:500;font-size:13px}
.pv-header-right{display:flex;align-items:center;gap:6px}
.pv-dep-bar{padding:4px 20px;background:var(--bg-panel);border-bottom:1px solid var(--border-subtle);font-size:11px;color:var(--text-muted);display:flex;gap:16px;flex-shrink:0}
.pv-dep-bar span{display:flex;align-items:center;gap:4px}
.pv-dep-bar .dep-pod{color:var(--accent);font-family:var(--font-mono);font-weight:500}

/* Pod View 3-col grid reuses original CC styles */
.cc-grid{display:grid;grid-template-columns:260px 1fr 320px;flex:1;overflow:hidden}
.cc-panel{display:flex;flex-direction:column;border-right:1px solid var(--border);overflow:hidden}
.cc-panel:last-child{border-right:none}
.panel-header{padding:14px 16px;border-bottom:1px solid var(--border);display:flex;align-items:center;justify-content:space-between;flex-shrink:0}
.panel-title{font-family:var(--font-heading);font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:1.5px;color:var(--text-secondary)}

/* Agent roster */
.roster-list{flex:1;overflow-y:auto;padding:8px}
.agent-row{padding:12px;border-radius:6px;margin-bottom:4px;cursor:pointer;border:1px solid transparent;transition:all .15s}
.agent-row:hover{background:var(--bg-elevated);border-color:var(--border)}
.agent-row.selected{background:var(--accent-dim);border-color:rgba(0,212,255,.3)}
.agent-row-top{display:flex;align-items:center;justify-content:space-between;margin-bottom:4px}
.agent-name{font-family:var(--font-mono);font-size:12px;font-weight:500}
.agent-role{font-size:10px;color:var(--text-muted)}
.agent-dot{width:7px;height:7px;border-radius:50%;flex-shrink:0}
.agent-dot.active{background:var(--green);box-shadow:0 0 6px var(--green);animation:pulse-dot 2s infinite}
.agent-dot.idle{background:var(--idle)}
.agent-dot.queued{background:var(--amber);animation:pulse-dot 1.5s infinite}
.agent-dot.error{background:var(--red)}
.agent-task{font-size:11px;color:var(--text-secondary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-bottom:6px}
.agent-progress{height:3px;border-radius:2px;background:var(--bg-base);overflow:hidden}
.agent-progress-bar{height:100%;border-radius:2px;transition:width .5s ease}

/* Center column */
.center-col{display:flex;flex-direction:column;overflow:hidden}
.head-node-section{padding:16px 20px;border-bottom:1px solid var(--border);flex-shrink:0}
.head-node-row{display:flex;align-items:center;gap:14px;margin-bottom:14px}
.head-avatar{width:48px;height:48px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-family:var(--font-mono);font-size:10px;font-weight:500;letter-spacing:.5px;background:var(--bg-base);border:2px solid var(--accent);color:var(--accent);position:relative;flex-shrink:0}
.head-avatar::after{content:'';position:absolute;inset:-5px;border-radius:50%;border:1.5px solid rgba(0,212,255,.2);animation:pulse-ring 3s infinite}
.head-info .head-name{font-family:var(--font-heading);font-size:14px;font-weight:700}
.head-info .head-role{font-size:11px;color:var(--text-secondary)}
.head-info .head-status{font-size:10px;color:var(--green);font-family:var(--font-mono);margin-top:2px}
.chat-history{max-height:200px;overflow-y:auto;margin-bottom:12px;display:flex;flex-direction:column;gap:6px;padding-right:4px}
.chat-msg{padding:8px 12px;border-radius:6px;font-size:12px;line-height:1.5;animation:fadeSlideUp .25s ease}
.chat-msg.user{background:var(--accent-dim);border-left:2px solid var(--accent);color:var(--text-primary)}
.chat-msg.head{background:var(--bg-elevated);border-left:2px solid var(--green);color:var(--text-primary)}
.chat-msg.delegate{background:transparent;color:var(--amber);font-family:var(--font-mono);font-size:11px;padding:4px 12px}
.chat-msg .msg-label{font-family:var(--font-mono);font-size:10px;color:var(--text-muted);margin-bottom:2px}
.chat-input-row{display:flex;gap:8px}
.chat-input-row input{flex:1;padding:10px 14px;border-radius:4px;border:1px solid var(--border);background:var(--bg-input);color:var(--text-primary);font-family:var(--font-mono);font-size:12px}
.chat-input-row input:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 1px var(--accent-dim)}
.chat-input-row input::placeholder{color:var(--text-muted)}
.chat-send{padding:10px 18px;border-radius:4px;border:none;background:var(--accent);color:var(--bg-base);font-family:var(--font-mono);font-size:11px;font-weight:500;cursor:pointer;letter-spacing:.5px}
.chat-send:hover{filter:brightness(1.15)}

/* Comms Log */
.comms-section{flex:1;display:flex;flex-direction:column;overflow:hidden}
.comms-header{display:flex;align-items:center;justify-content:space-between;padding:10px 20px;border-bottom:1px solid var(--border);flex-shrink:0}
.comms-filters{display:flex;gap:4px}
.comms-filter{padding:4px 10px;border-radius:3px;border:1px solid var(--border);background:transparent;color:var(--text-muted);font-size:10px;font-family:var(--font-mono);cursor:pointer;transition:all .15s}
.comms-filter:hover{color:var(--text-secondary);border-color:var(--text-muted)}
.comms-filter.active{background:var(--accent-dim);border-color:rgba(0,212,255,.3);color:var(--accent)}
.comms-log{flex:1;overflow-y:auto;padding:8px 16px;display:flex;flex-direction:column;gap:2px}
.log-entry{padding:6px 10px;border-radius:4px;font-family:var(--font-mono);font-size:11px;line-height:1.4;animation:fadeSlideUp .3s ease;display:flex;gap:8px}
.log-entry:hover{background:var(--bg-elevated)}
.log-ts{color:var(--text-muted);flex-shrink:0;white-space:nowrap}
.log-route{flex-shrink:0;white-space:nowrap}
.log-msg{color:var(--text-secondary);flex:1}
.log-entry.delegate{background:var(--amber-dim)}
.log-entry.delegate .log-msg{color:var(--amber)}
.log-entry.report .log-msg{color:var(--green)}

/* Right col */
.right-col{display:flex;flex-direction:column;overflow:hidden}
.accom-section{flex:1;display:flex;flex-direction:column;overflow:hidden;border-bottom:1px solid var(--border)}
.accom-list{flex:1;overflow-y:auto;padding:8px 12px}
.accom-item{padding:10px 12px;border-radius:4px;border-left:3px solid var(--green);margin-bottom:6px;background:var(--bg-surface);animation:fadeSlideUp .3s ease;cursor:pointer;transition:background .15s}
.accom-item:hover{background:var(--bg-elevated)}
.accom-top{display:flex;align-items:center;justify-content:space-between;margin-bottom:3px}
.accom-ts{font-family:var(--font-mono);font-size:10px;color:var(--text-muted)}
.accom-agent{font-family:var(--font-mono);font-size:10px;color:var(--accent)}
.accom-desc{font-size:12px;color:var(--text-secondary)}
.accom-icon{font-size:12px;margin-right:6px}
.accom-detail{padding:8px 10px;margin-top:6px;background:var(--bg-base);border-radius:4px;font-family:var(--font-mono);font-size:11px;color:var(--text-muted);line-height:1.5;display:none}
.accom-item.expanded .accom-detail{display:block}

.sched-section{height:40%;min-height:200px;display:flex;flex-direction:column;overflow:hidden}
.sched-list{flex:1;overflow-y:auto;padding:8px 12px}
.sched-day-label{font-family:var(--font-heading);font-size:10px;font-weight:600;text-transform:uppercase;letter-spacing:1.5px;color:var(--text-muted);padding:8px 0 4px}
.sched-item{display:flex;align-items:center;gap:10px;padding:8px 10px;border-radius:4px;margin-bottom:4px}
.sched-item:hover{background:var(--bg-elevated)}
.sched-time{font-family:var(--font-mono);font-size:11px;color:var(--text-secondary);flex-shrink:0;width:48px}
.sched-desc{flex:1;font-size:12px;color:var(--text-primary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.sched-agent{font-family:var(--font-mono);font-size:10px;color:var(--text-muted);flex-shrink:0}
.sched-status{font-family:var(--font-mono);font-size:9px;padding:2px 6px;border-radius:3px;flex-shrink:0;text-transform:uppercase;letter-spacing:.5px}
.sched-status.pending{background:var(--amber-dim);color:var(--amber)}
.sched-status.scheduled{background:var(--accent-dim);color:var(--accent)}
.sched-status.completed{background:var(--green-dim);color:var(--green)}
.add-task-btn{padding:6px 12px;border-radius:4px;border:1px solid var(--border);background:transparent;color:var(--accent);font-size:11px;font-family:var(--font-mono);cursor:pointer;transition:all .15s}
.add-task-btn:hover{background:var(--accent-dim);border-color:var(--accent)}
.add-task-form{padding:10px 12px;border-top:1px solid var(--border);display:none;flex-shrink:0}
.add-task-form.open{display:flex;flex-direction:column;gap:8px}
.add-task-form input,.add-task-form select{padding:7px 10px;border-radius:4px;border:1px solid var(--border);background:var(--bg-input);color:var(--text-primary);font-family:var(--font-mono);font-size:11px}
.add-task-form input:focus,.add-task-form select:focus{outline:none;border-color:var(--accent)}
.add-task-form .form-row{display:flex;gap:6px}
.add-task-form .form-row>*{flex:1}
.add-task-confirm{padding:7px 14px;border-radius:4px;border:none;background:var(--accent);color:var(--bg-base);font-family:var(--font-mono);font-size:11px;font-weight:500;cursor:pointer}

/* ── Orchestration View ────────────────────────────────── */
.orch-header{padding:16px 24px;border-bottom:1px solid var(--border);flex-shrink:0;display:flex;align-items:center;justify-content:space-between;background:var(--bg-surface)}
.orch-title{font-family:var(--font-heading);font-size:16px;font-weight:700}
.orch-body{flex:1;overflow-y:auto;padding:20px 24px;display:flex;gap:24px}
.orch-left{flex:1;min-width:0}
.orch-right{width:340px;flex-shrink:0}

.orch-section-title{font-family:var(--font-heading);font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:1.5px;color:var(--text-secondary);margin-bottom:12px}

/* Broadcast */
.broadcast-box{background:var(--bg-panel);border:1px solid var(--border);border-radius:6px;padding:16px;margin-bottom:20px}
.broadcast-input{width:100%;padding:10px 14px;border-radius:4px;border:1px solid var(--border);background:var(--bg-input);color:var(--text-primary);font-family:var(--font-mono);font-size:12px;margin-bottom:10px}
.broadcast-input:focus{outline:none;border-color:var(--accent)}
.broadcast-pods{display:flex;flex-wrap:wrap;gap:6px;margin-bottom:10px}
.broadcast-pod{display:flex;align-items:center;gap:6px;padding:4px 10px;border-radius:4px;border:1px solid var(--border);background:transparent;color:var(--text-secondary);font-size:11px;font-family:var(--font-mono);cursor:pointer;transition:all .15s}
.broadcast-pod:hover{border-color:var(--text-muted)}
.broadcast-pod.selected{background:var(--accent-dim);border-color:rgba(0,212,255,.3);color:var(--accent)}
.broadcast-pod .bp-dot{width:8px;height:8px;border-radius:50%}

/* Pipeline */
.pipeline-box{background:var(--bg-panel);border:1px solid var(--border);border-radius:6px;padding:16px}
.pipe-step{display:flex;align-items:flex-start;gap:12px;padding:12px;background:var(--bg-surface);border:1px solid var(--border);border-radius:6px;margin-bottom:8px;position:relative}
.pipe-step::before{content:'';position:absolute;left:22px;top:100%;width:2px;height:8px;background:var(--border)}
.pipe-step:last-child::before{display:none}
.pipe-avatar{width:32px;height:32px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-family:var(--font-mono);font-size:8px;flex-shrink:0}
.pipe-info{flex:1;min-width:0}
.pipe-pod-name{font-family:var(--font-mono);font-size:11px;font-weight:500}
.pipe-instr{font-size:12px;color:var(--text-secondary);margin-top:2px}
.pipe-status{font-family:var(--font-mono);font-size:9px;padding:2px 6px;border-radius:3px;text-transform:uppercase}
.pipe-status.idle{background:rgba(88,101,116,.12);color:var(--idle)}
.pipe-status.running{background:var(--accent-dim);color:var(--accent)}
.pipe-status.done{background:var(--green-dim);color:var(--green)}
.pipe-status.failed{background:var(--red-dim);color:var(--red)}
.pipe-controls{display:flex;gap:6px;margin-top:12px}
.pipe-add{width:100%;padding:8px;border-radius:4px;border:1px dashed var(--border);background:transparent;color:var(--text-muted);font-size:11px;font-family:var(--font-mono);cursor:pointer;transition:all .15s;margin-bottom:12px}
.pipe-add:hover{border-color:var(--accent);color:var(--accent)}

/* Dependency tracker */
.dep-table{width:100%;border-collapse:collapse;font-size:11px}
.dep-table th{text-align:left;padding:8px;font-family:var(--font-heading);font-size:10px;text-transform:uppercase;letter-spacing:1px;color:var(--text-muted);border-bottom:1px solid var(--border)}
.dep-table td{padding:8px;border-bottom:1px solid var(--border-subtle);color:var(--text-secondary);font-family:var(--font-mono)}
.dep-table .dep-waiting{color:var(--amber)}
.dep-table .dep-resolved{color:var(--green)}
.dep-table .dep-blocked{color:var(--red)}

/* ── Alert Toasts ──────────────────────────────────────── */
.alert-stack{position:fixed;bottom:20px;right:20px;z-index:200;display:flex;flex-direction:column-reverse;gap:8px;max-width:380px}
.alert-toast{padding:10px 14px;border-radius:6px;background:var(--bg-panel);border:1px solid var(--border);display:flex;align-items:flex-start;gap:10px;animation:fadeSlideUp .3s ease;font-size:12px}
.alert-toast.error{border-left:3px solid var(--red)}
.alert-toast.warning{border-left:3px solid var(--amber)}
.alert-toast.success{border-left:3px solid var(--green)}
.alert-toast.info{border-left:3px solid var(--accent)}
.alert-toast-icon{font-size:14px;flex-shrink:0;margin-top:1px}
.alert-toast-body{flex:1;min-width:0}
.alert-toast-head{font-family:var(--font-mono);font-size:10px;color:var(--text-muted);margin-bottom:2px}
.alert-toast-msg{color:var(--text-primary);font-size:12px}
.alert-toast-actions{display:flex;gap:4px;margin-top:6px}
.alert-toast-actions button{padding:3px 8px;border-radius:3px;border:1px solid var(--border);background:transparent;color:var(--text-secondary);font-size:10px;font-family:var(--font-mono);cursor:pointer}
.alert-toast-actions button:hover{background:var(--bg-elevated);color:var(--text-primary)}
.alert-dismiss{border:none;background:transparent;color:var(--text-muted);cursor:pointer;font-size:14px;flex-shrink:0;padding:0 4px}

/* ── Animations ────────────────────────────────────────── */
@keyframes pulse-dot{0%,100%{opacity:1}50%{opacity:.4}}
@keyframes pulse-ring{0%{transform:scale(1);opacity:.5}100%{transform:scale(1.15);opacity:0}}
@keyframes fadeSlideUp{from{opacity:0;transform:translateY(6px)}to{opacity:1;transform:translateY(0)}}
@keyframes cardPulse{0%{box-shadow:0 0 0 0 rgba(0,212,255,.4)}70%{box-shadow:0 0 0 10px rgba(0,212,255,0)}100%{box-shadow:0 0 0 0 rgba(0,212,255,0)}}

/* ── Mobile ────────────────────────────────────────────── */
.mobile-tabs{display:none}
@media(max-width:900px){
  .pod-nav{position:fixed;left:0;top:0;z-index:100}
  .pod-nav:not(.pinned){width:0;min-width:0;border:none}
  .pod-nav.pinned{width:var(--nav-exp);min-width:var(--nav-exp)}
  .mob-toggle{display:block!important}
  .cc-grid{grid-template-columns:1fr}
  .cc-panel{display:none;border-right:none}
  .cc-panel.mobile-active{display:flex}
  .mobile-tabs{display:flex;gap:0;border-bottom:1px solid var(--border);flex-shrink:0}
  .mob-tab{flex:1;padding:10px;text-align:center;font-family:var(--font-mono);font-size:10px;text-transform:uppercase;letter-spacing:1px;color:var(--text-muted);cursor:pointer;border-bottom:2px solid transparent;background:var(--bg-surface)}
  .mob-tab.active{color:var(--accent);border-bottom-color:var(--accent)}
}

/* ── Scrollbars ────────────────────────────────────────── */
::-webkit-scrollbar{width:5px}
::-webkit-scrollbar-track{background:transparent}
::-webkit-scrollbar-thumb{background:var(--border);border-radius:3px}
::-webkit-scrollbar-thumb:hover{background:var(--text-muted)}

/* Mobile nav toggle */
.mob-toggle{display:none;position:fixed;top:10px;left:10px;z-index:101;width:36px;height:36px;border-radius:6px;border:1px solid var(--border);background:var(--bg-surface);color:var(--text-secondary);font-size:18px;cursor:pointer;align-items:center;justify-content:center}
